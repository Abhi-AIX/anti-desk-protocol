---
interface Props {
  youtubeId: string;
  start?: number;
  end?: number;
}

const { youtubeId, start, end } = Astro.props;

const params = new URLSearchParams();
if (start) params.set('start', start.toString());
if (end) params.set('end', end.toString());

const src = `https://www.youtube.com/embed/${youtubeId}?${params.toString()}`;
---
<div class="video-wrapper">
  <iframe 
    src={src}
    frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
    allowfullscreen>
  </iframe>
</div>

<style>
  .video-wrapper {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    max-width: 90%;
    margin-bottom: 1.5rem;
    border-radius: 0.5rem; /* Optional: adds rounded corners */
  }
  .video-wrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>